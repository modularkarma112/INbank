{
  "version": 3,
  "sources": ["src/app/pages/comprobante-transferencia/comprobante-transferencia.component.ts", "src/app/pages/comprobante-transferencia/comprobante-transferencia.component.html"],
  "sourcesContent": ["import { Component, OnInit, signal } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Component({\r\n  selector: 'app-comprobante-transferencia',\r\n  standalone: true,\r\n  imports: [CommonModule],\r\n  templateUrl: './comprobante-transferencia.component.html',\r\n  styleUrl: './comprobante-transferencia.component.css'\r\n})\r\nexport class ComprobanteTransferenciaComponent implements OnInit {\r\n  api = (window as any).API_BASE || '';\r\n  transferencia = signal<any>(null);\r\n  cargando = signal(true);\r\n  fechaActual = new Date();\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private http: HttpClient,\r\n    private router: Router\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    const id = this.route.snapshot.paramMap.get('id');\r\n    console.log('ID de transferencia:', id);\r\n    \r\n    if (!id) {\r\n      console.error('No se encontr贸 ID en la ruta');\r\n      this.router.navigate(['/dashboard']);\r\n      return;\r\n    }\r\n\r\n    const url = `${this.api}/api/transferencias/${id}`;\r\n    console.log('Cargando transferencia desde:', url);\r\n\r\n    this.http.get(url).subscribe({\r\n      next: (data: any) => {\r\n        console.log('Transferencia recibida:', data);\r\n        this.transferencia.set(data);\r\n        this.cargando.set(false);\r\n      },\r\n      error: (err) => {\r\n        console.error('Error cargando comprobante:', err);\r\n        alert('No se pudo cargar el comprobante: ' + (err?.error?.message || err?.message || 'Error desconocido'));\r\n        this.router.navigate(['/dashboard']);\r\n      }\r\n    });\r\n  }\r\n\r\n  imprimir() {\r\n    window.print();\r\n  }\r\n  async descargarPdf() {\r\n    try {\r\n      const id = this.route.snapshot.paramMap.get('id');\r\n      const url = `${this.api}/api/transferencias/${id}/pdf`;\r\n      const blob = await this.http.get(url, { responseType: 'blob' as any }).toPromise();\r\n      const a = document.createElement('a');\r\n      const b = window.URL.createObjectURL(blob as any);\r\n      a.href = b; a.download = `comprobante-transferencia-${id}.pdf`; a.click();\r\n      setTimeout(() => URL.revokeObjectURL(b), 1000);\r\n    } catch (e) {\r\n      alert('No se pudo descargar el PDF');\r\n    }\r\n  }\r\n\r\n  volver() {\r\n    this.router.navigate(['/dashboard']);\r\n  }\r\n}\r\n", "<div class=\"comprobante-container\" *ngIf=\"!cargando() && transferencia()\">\r\n  <div class=\"comprobante\">\r\n    <!-- Header -->\r\n    <div class=\"header\">\r\n      <div class=\"logo\">\r\n        <div class=\"logo-icon\"></div>\r\n        <div class=\"logo-text\">INBank</div>\r\n      </div>\r\n      <div class=\"titulo\">\r\n        <h1>COMPROBANTE DE TRANSFERENCIA</h1>\r\n        <p class=\"autorizacion\">Autorizaci贸n: {{ fechaActual | date:'dd/MM/yyyy' }}, {{ fechaActual | date:'HH:mm' }} (hora de CDMX)</p>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Secci贸n Monto -->\r\n    <div class=\"seccion\">\r\n      <div class=\"fila\">\r\n        <div class=\"campo\">Monto</div>\r\n        <div class=\"valor\">${{ transferencia().monto | number:'1.2-2' }}</div>\r\n      </div>\r\n      <div class=\"fila\">\r\n        <div class=\"campo\">Tipo de transferencia</div>\r\n        <div class=\"valor\">{{ transferencia().destino_banco ? 'Interbancaria' : 'Mismo banco' }}</div>\r\n      </div>\r\n      <div class=\"fila\">\r\n        <div class=\"campo\">Concepto</div>\r\n        <div class=\"valor\">{{ transferencia().concepto || 'Sin concepto' }}</div>\r\n      </div>\r\n      <div class=\"fila\">\r\n        <div class=\"campo\">N煤mero de referencia</div>\r\n        <div class=\"valor\">#{{ transferencia().id }}</div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Cuenta Destino -->\r\n    <div class=\"seccion-titulo\">Cuenta destino</div>\r\n    <div class=\"seccion\">\r\n      <div class=\"fila\">\r\n        <div class=\"campo\">Nombre</div>\r\n        <div class=\"valor\">{{ transferencia().destino_nombre }}</div>\r\n      </div>\r\n      <div class=\"fila\">\r\n        <div class=\"campo\">Entidad</div>\r\n        <div class=\"valor\">{{ transferencia().destino_banco || 'INBank' }}</div>\r\n      </div>\r\n      <div class=\"fila\">\r\n        <div class=\"campo\">{{ transferencia().destino_tipo === 'CLABE' ? 'CLABE' : 'N煤mero de cuenta / N煤mero de tarjeta' }}</div>\r\n        <div class=\"valor\">{{ transferencia().destino_identificador }}</div>\r\n      </div>\r\n      <div class=\"fila\">\r\n        <div class=\"campo\">Estatus</div>\r\n        <div class=\"valor estado-completada\">{{ transferencia().estado }}</div>\r\n      </div>\r\n      <div class=\"fila\" *ngIf=\"transferencia().destino_tipo === 'CLABE'\">\r\n        <div class=\"campo\">Clave de rastreo</div>\r\n        <div class=\"valor\">{{ transferencia().id }}-{{ fechaActual.getTime() }}</div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Cuenta Origen -->\r\n    <div class=\"seccion-titulo\">Cuenta origen</div>\r\n    <div class=\"seccion\">\r\n      <div class=\"fila\">\r\n        <div class=\"campo\">Nombre</div>\r\n        <div class=\"valor\">{{ transferencia().origen_nombre || 'Tu cuenta' }}</div>\r\n      </div>\r\n      <div class=\"fila\">\r\n        <div class=\"campo\">Entidad</div>\r\n        <div class=\"valor\">INBank</div>\r\n      </div>\r\n      <div class=\"fila\">\r\n        <div class=\"campo\">CLABE</div>\r\n        <div class=\"valor\">{{ transferencia().origen_numero_cuenta }}</div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Bot贸n Volver -->\r\n    <div class=\"acciones\">\r\n      <button class=\"btn-volver\" (click)=\"volver()\">VOLVER</button>\r\n      <button class=\"btn-imprimir\" (click)=\"imprimir()\">IMPRIMIR</button>\r\n      <button class=\"btn-imprimir\" (click)=\"descargarPdf()\">DESCARGAR PDF</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"loading\" *ngIf=\"cargando()\">\r\n  <p>Cargando comprobante...</p>\r\n</div>\r\n\r\n"],
  "mappings": "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",
  "names": []
}
