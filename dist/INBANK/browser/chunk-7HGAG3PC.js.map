{
  "version": 3,
  "sources": ["src/app/pages/comprobante-movimiento/comprobante-movimiento.component.ts", "src/app/pages/comprobante-movimiento/comprobante-movimiento.component.html"],
  "sourcesContent": ["import { Component, OnInit, signal } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Component({\r\n  selector: 'app-comprobante-movimiento',\r\n  standalone: true,\r\n  imports: [CommonModule],\r\n  templateUrl: './comprobante-movimiento.component.html',\r\n  styleUrl: './comprobante-movimiento.component.css'\r\n})\r\nexport class ComprobanteMovimientoComponent implements OnInit {\r\n  api = (window as any).API_BASE || '';\r\n  movimiento = signal<any>(null);\r\n  cargando = signal(true);\r\n  fechaActual = new Date();\r\n\r\n  constructor(private route: ActivatedRoute, private http: HttpClient, private router: Router) {}\r\n\r\n  ngOnInit() {\r\n    const id = this.route.snapshot.paramMap.get('id');\r\n    if (!id) { this.router.navigate(['/dashboard']); return; }\r\n    const url = `${this.api}/api/cuentas/transacciones/${id}`;\r\n    this.http.get(url).subscribe({\r\n      next: (data: any) => { this.movimiento.set(data); this.cargando.set(false); },\r\n      error: (err) => { alert('No se pudo cargar el comprobante'); this.router.navigate(['/dashboard']); }\r\n    });\r\n  }\r\n\r\n  imprimir() { window.print(); }\r\n  async descargarPdf() {\r\n    try {\r\n      const id = this.route.snapshot.paramMap.get('id');\r\n      const url = `${this.api}/api/cuentas/transacciones/${id}/pdf`;\r\n      const blob = await this.http.get(url, { responseType: 'blob' as any }).toPromise();\r\n      const a = document.createElement('a');\r\n      const b = window.URL.createObjectURL(blob as any);\r\n      a.href = b; a.download = `comprobante-${id}.pdf`; a.click();\r\n      setTimeout(() => URL.revokeObjectURL(b), 1000);\r\n    } catch (e) {\r\n      alert('No se pudo descargar el PDF');\r\n    }\r\n  }\r\n  volver() { this.router.navigate(['/dashboard']); }\r\n}\r\n", "<div class=\"comprobante-container\" *ngIf=\"!cargando() && movimiento()\">\r\n  <div class=\"comprobante\">\r\n    <!-- Header -->\r\n    <div class=\"header\">\r\n      <div class=\"logo\">\r\n        <div class=\"logo-icon\">üè¶</div>\r\n        <div class=\"logo-text\">INBank</div>\r\n      </div>\r\n      <div class=\"titulo\">\r\n        <h1>COMPROBANTE DE {{ movimiento().tipo }}</h1>\r\n        <p class=\"autorizacion\">Referencia: #{{ movimiento().id }} ‚Ä¢ {{ movimiento().fecha | date:'dd/MM/yyyy, HH:mm' }} (hora de CDMX)</p>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Monto / Concepto / Cuenta -->\r\n    <div class=\"seccion\">\r\n      <div class=\"fila\">\r\n        <div class=\"campo\">Monto</div>\r\n        <div class=\"valor\">${{ movimiento().monto | number:'1.2-2' }}</div>\r\n      </div>\r\n      <div class=\"fila\">\r\n        <div class=\"campo\">Concepto</div>\r\n        <div class=\"valor\">{{ movimiento().concepto || 'Sin concepto' }}</div>\r\n      </div>\r\n      <div class=\"fila\">\r\n        <div class=\"campo\">Titular</div>\r\n        <div class=\"valor\">{{ movimiento().nombre_cliente }}</div>\r\n      </div>\r\n      <div class=\"fila\">\r\n        <div class=\"campo\">N√∫mero de cuenta</div>\r\n        <div class=\"valor\">{{ movimiento().numero_cuenta }}</div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"acciones\">\r\n      <button class=\"btn-volver\" (click)=\"volver()\">VOLVER</button>\r\n      <button class=\"btn-imprimir\" (click)=\"imprimir()\">IMPRIMIR</button>\r\n      <button class=\"btn-imprimir\" (click)=\"descargarPdf()\">DESCARGAR PDF</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"loading\" *ngIf=\"cargando()\">\r\n  <p>Cargando comprobante...</p>\r\n</div>\r\n"],
  "mappings": "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",
  "names": []
}
